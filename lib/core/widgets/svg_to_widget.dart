// ignore_for_file: unnecessary_this

import 'package:filehive/core/utils/colors.dart';
import 'package:flutter/services.dart';
import 'package:webview_flutter/webview_flutter.dart';
import 'package:flutter/material.dart';

import 'dart:convert';
import 'dart:io' show Platform;
import 'package:flutter/foundation.dart' show kIsWeb;

class SvgToWiget extends StatefulWidget {
  final double? width;
  final double? height;
  final String svgImage;

  const SvgToWiget({
    super.key,
    this.width,
    this.height,
    required this.svgImage,
  });

  @override
  SvgToWigetState createState() => SvgToWigetState();
}

class SvgToWigetState extends State<SvgToWiget> {
  late WebViewController _webViewController;

  @override
  void initState() {
    super.initState();
    _webViewController = WebViewController()
      ..setBackgroundColor(kbackgroundColor)
      ..setJavaScriptMode(JavaScriptMode.unrestricted);

    loadHtmlFromAssets(widget.svgImage);
  }

  @override
  Widget build(BuildContext context) {
    if (kIsWeb || (!Platform.isAndroid && !Platform.isIOS)) {
      debugPrint("SVGator's Flutter animations run only on Android or iOS!");
      return const SizedBox.shrink();
    }
    return Center(
      child: SizedBox(
        width: widget.width,
        height: widget.height,
        child: WebViewWidget(
          controller: _webViewController,
        ),
      ),
    );
  }

  loadHtmlFromAssets(String svgImage) async {
    String sss = await rootBundle.loadString(svgImage);
    String Svg =
        "<svg id=\"eiwOZTH8Xpn1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 500 500\" shape-rendering=\"geometricPrecision\" text-rendering=\"geometricPrecision\" project-id=\"e2772456e4f247538739383e69d6312f\" export-id=\"40d100e60e2548668ede28338c0a990f\" cached=\"false\"><g><g><g><g opacity=\"0.41\"><g><g><path d=\"M28.813,302.943c-.813-7.588-1.002-15.245-.54-22.861c2.169-35.783,18.367-70.276,43.493-95.34c8.964-8.942,19.266-17.073,24.817-28.543c9.349-19.316,7.49-40.848,19.331-60.059c11.854-19.233,29.758-34.691,50.393-43.237c61.525-25.478,151.017,5.95,146.975,83.414-.015.278-.025.681-.033,1.192-.249,16.06,12.726,28.863,28.403,28.412c57.857-1.664,109.874,41.187,123.399,98.243c8.698,36.693-.479,77.904-25.718,105.526-18.84,20.619-44.893,32.779-71.127,41.576-52.6,17.639-108.576,23.719-163.858,20.972-51.747-2.572-106.808-14.803-142.126-53.477-18.841-20.629-30.4-47.754-33.409-75.818Z\" fill=\"#e1e2fe\"/></g></g></g><g opacity=\"0.31\"><ellipse rx=\"13.293\" ry=\"13.019\" transform=\"matrix(.0211-.9998 0.9998 0.0211 306.206479 47.635394)\" fill=\"#e1e2fe\"/></g><g opacity=\"0.31\"><path d=\"M85.618,47.999c.189,3.783,3.346,6.69,7.051,6.494s6.556-3.422,6.366-7.205c-.189-3.783-3.346-6.69-7.051-6.494s-6.556,3.422-6.366,7.205Z\" fill=\"#e1e2fe\"/></g><g opacity=\"0.31\"><path d=\"M472.092,202.99c.125,2.504,2.215,4.428,4.667,4.298c2.453-.13,4.339-2.265,4.214-4.769s-2.215-4.428-4.668-4.299c-2.451.131-4.338,2.266-4.213,4.77Z\" fill=\"#e1e2fe\"/></g><g opacity=\"0.31\"><ellipse rx=\"20.928\" ry=\"20.496\" transform=\"matrix(.0209-.9998 0.9998 0.0209 430.862448 431.406177)\" fill=\"#e1e2fe\"/></g></g></g><g><g><path d=\"M25.721,98.01c-6.416-11.296-2.643-25.771,8.425-32.331c11.069-6.56,32.933-7.28,39.348,4.016c6.416,11.296-10.58,22.182-17.173,33.383-9.193,15.621-24.185,6.227-30.6-5.068Z\" opacity=\"0.47\" fill=\"#ecf1f7\"/><path d=\"M93.258,452.053c-7.953,5.857-19.044,4.026-24.773-4.089s-7.907-25.079.046-30.936s17.357,6.541,26.215,10.817c12.354,5.964,6.465,18.351-1.488,24.208Z\" opacity=\"0.47\" fill=\"#e1e2fe\"/><path d=\"M408.43,24.33c8.617-9.056,22.786-9.272,31.648-.482s15.218,29.364,6.602,38.421c-8.617,9.056-22.965-4.227-34.887-7.549-16.628-4.632-11.98-21.333-3.363-30.39Z\" opacity=\"0.47\" fill=\"#e1e2fe\"/></g><g><path d=\"M45.018,148.177c-5.818,16.759-7.406,35.069-3.639,52.392c5.064,23.292,22.509,43.767,19.535,68.609-1.785,14.907-1.467,28.571-1.826,43.217-.738,30.074,20.275,54.971,44.926,67.432c20.021,10.121,42.786,12.79,64.761,10.856c19.778-1.741,39.254-6.933,58.054-13.369c18.117-6.202,35.703-13.909,55.238-13.332c16.246.48,31.311,6.519,46.729,10.712c36.811,10.011,80.359,8.587,111.646-13.108c34.295-23.782,48.147-68.909,36.163-108.345-6.428-21.152-15.01-39.486-11.906-62.023c1.527-11.086,3.805-22.37,1.702-33.362-1.935-10.116-7.481-19.219-14.059-27.144-17.736-21.37-42.984-34.996-69.231-43.013-29.775-9.095-62.833-14.053-93.795-9.344-60.144,9.147-73.232.251-136.103-8.675-42.117-5.98-81.651,27.507-100.845,62.054-2.909,5.235-5.374,10.75-7.35,16.443Z\" opacity=\"0.32\" fill=\"#e1e2fe\"/><g opacity=\"0.83\"><path d=\"M74.127,196.575c8.663-11.43,22.054-19.193,28.615-32.327c7.855-15.724,6.2-34.282,13.215-50.346c10.366-23.737,29.141-43.899,52.651-54.971c11.331-5.336,23.766-8.582,35.896-7.651c18.7,1.434,34.83,12.566,47.444,25.861c18.773,19.786,32.047,47.887,54.577,63.741c12.433,8.748,27.044-.533,40.216-3.477c14.898-3.329,30.377-2.548,44.607,1.503c26.209,7.461,48.78,26.235,60.068,50.992c12.051,26.431,10.338,62.972-12.282,85.696-10.465,10.513-24.656,17.539-32.422,30.131-9.746,15.803-10.889,37.163-13.61,54.734-3.005,19.405-11.299,38.309-23.764,53.995-.141.178-.283.355-.426.532-21.657,26.923-58.618,36.002-89.776,22.503c0,0-66.294-28.721-66.296-28.722-67.268-29.143-118.336-76.105-142.853-144.164-5.305-14.728-7.233-46.126-.473-60.503c1.277-2.713,2.847-5.196,4.613-7.527Z\" opacity=\"0.81\" fill=\"#e1e2fe\"/></g></g></g><circle r=\"4.5\" transform=\"translate(384.065 432.87)\" opacity=\"0.58\" fill=\"#3e479b\"/><circle r=\"2.25\" transform=\"translate(270.185 37.611)\" opacity=\"0.58\" fill=\"#3e479b\"/><circle r=\"4.5\" transform=\"translate(131.316 443.676)\" opacity=\"0.58\" fill=\"#3e479b\"/><circle r=\"3.5\" transform=\"translate(402.395 463.969)\" opacity=\"0.58\" fill=\"#ef929c\"/><circle r=\"1.5\" transform=\"translate(58.059 40.784)\" opacity=\"0.58\" fill=\"#3e479b\"/><ellipse rx=\"5.404\" ry=\"5.404\" transform=\"matrix(.4534-.8913 0.8913 0.4534 464.226079 80.728472)\" opacity=\"0.58\" fill=\"#ef929c\"/><path d=\"M75.147,26.804c-.244,1.145-1.37,1.874-2.515,1.63-1.145-.245-1.874-1.371-1.63-2.515.244-1.145,1.37-1.874,2.515-1.63c1.144.244,1.874,1.37,1.63,2.515Z\" opacity=\"0.58\" fill=\"#ef929c\"/><path d=\"M289.773,19.957c-.244,1.145-1.371,1.874-2.515,1.63-1.145-.244-1.874-1.371-1.63-2.515.244-1.145,1.371-1.874,2.515-1.63s1.874,1.37,1.63,2.515Z\" opacity=\"0.58\" fill=\"#ef929c\"/><path d=\"M438.644,86.502c-.208.973-1.165,1.593-2.138,1.385s-1.593-1.165-1.385-2.138s1.165-1.593,2.138-1.385c.972.208,1.593,1.165,1.385,2.138Z\" opacity=\"0.58\" fill=\"#3e479b\"/><path d=\"M41.101,396.909c-.208.973-1.165,1.593-2.138,1.385s-1.593-1.165-1.385-2.138s1.165-1.593,2.138-1.385s1.593,1.165,1.385,2.138Z\" opacity=\"0.58\" fill=\"#3e479b\"/></g><g><g><g opacity=\"0.66\"><g><g><path d=\"M371.123,208.384h-7.806c-3.276,0-5.942-2.666-5.942-5.943v-8.781c0-1.646-1.041-3.134-2.591-3.702-.922-.338-1.84-.719-2.729-1.131-1.519-.704-3.325-.396-4.489.769l-6.209,6.209c-1.122,1.123-2.615,1.741-4.202,1.741-1.588,0-3.08-.618-4.203-1.741l-5.52-5.519c-2.316-2.317-2.316-6.088,0-8.405l6.21-6.209c1.164-1.165,1.473-2.969.769-4.49-.414-.896-.795-1.814-1.13-2.73-.569-1.549-2.057-2.59-3.703-2.59h-8.78c-3.277,0-5.943-2.666-5.943-5.943v-7.806c0-3.277,2.666-5.943,5.943-5.943h8.78c1.647,0,3.135-1.041,3.703-2.59.336-.917.717-1.835,1.13-2.729.704-1.521.396-3.326-.769-4.49l-6.21-6.21c-2.316-2.317-2.316-6.087,0-8.405l5.52-5.52c2.315-2.317,6.088-2.318,8.405,0l6.209,6.21c1.164,1.165,2.968,1.474,4.489.769.897-.415,1.815-.795,2.73-1.13c1.549-.568,2.59-2.057,2.59-3.703v-8.781c0-3.277,2.666-5.943,5.942-5.943h7.806c3.277,0,5.943,2.666,5.943,5.943v8.781c0,1.646,1.041,3.134,2.591,3.703.914.335,1.833.715,2.728,1.13c1.521.705,3.326.396,4.49-.769l6.209-6.21c2.316-2.317,6.089-2.318,8.405,0l5.52,5.52c2.316,2.317,2.316,6.087,0,8.405l-6.21,6.21c-1.165,1.165-1.474,2.969-.768,4.489.413.895.794,1.813,1.13,2.73.568,1.549,2.057,2.59,3.703,2.59h8.78c3.277,0,5.943,2.666,5.943,5.943v7.806c0,3.277-2.666,5.943-5.943,5.943h-8.78c-1.647,0-3.134,1.041-3.703,2.59-.335.915-.716,1.833-1.129,2.729-.706,1.521-.397,3.326.768,4.491l6.21,6.209c2.316,2.317,2.316,6.087,0,8.405l-5.52,5.519c-1.123,1.123-2.615,1.741-4.203,1.741-1.587,0-3.08-.618-4.202-1.741l-6.209-6.209c-1.164-1.165-2.969-1.473-4.49-.769-.889.412-1.807.792-2.728,1.131-1.55.568-2.591,2.056-2.591,3.702v8.781c-.001,3.277-2.667,5.943-5.944,5.943Zm-20.763-21.93c.858,0,1.725.183,2.535.559.84.389,1.707.748,2.578,1.067c2.333.856,3.901,3.099,3.901,5.58v8.781c0,2.174,1.769,3.943,3.942,3.943h7.806c2.175,0,3.943-1.769,3.943-3.943v-8.781c0-2.482,1.568-4.724,3.901-5.58.871-.319,1.738-.679,2.577-1.067c2.279-1.055,4.991-.586,6.745,1.169l6.209,6.21c1.538,1.538,4.041,1.536,5.577,0l5.519-5.519c1.537-1.538,1.537-4.04,0-5.577l-6.21-6.21c-1.756-1.756-2.225-4.467-1.169-6.745.391-.845.75-1.713,1.067-2.577.855-2.334,3.099-3.902,5.58-3.902h8.78c2.175,0,3.943-1.769,3.943-3.943v-7.806c0-2.174-1.769-3.943-3.943-3.943h-8.78c-2.482,0-4.725-1.568-5.58-3.901-.318-.866-.678-1.733-1.067-2.578-1.057-2.277-.587-4.988,1.169-6.744l6.21-6.21c1.536-1.538,1.536-4.039,0-5.577l-5.519-5.52c-1.537-1.538-4.04-1.536-5.577,0l-6.209,6.21c-1.755,1.756-4.467,2.225-6.745,1.169-.846-.391-1.713-.751-2.576-1.067-2.334-.856-3.902-3.099-3.902-5.581v-8.781c0-2.174-1.768-3.943-3.943-3.943h-7.806c-2.174,0-3.942,1.769-3.942,3.943v8.781c0,2.482-1.568,4.724-3.901,5.581-.864.316-1.731.676-2.578,1.067-2.275,1.056-4.988.587-6.744-1.17l-6.209-6.21c-1.537-1.538-4.04-1.536-5.577,0l-5.52,5.52c-1.536,1.538-1.536,4.039,0,5.577l6.21,6.21c1.755,1.755,2.225,4.466,1.169,6.745-.39.844-.749,1.711-1.067,2.577-.855,2.333-3.099,3.901-5.58,3.901h-8.78c-2.175,0-3.943,1.769-3.943,3.943v7.806c0,2.174,1.769,3.943,3.943,3.943h8.78c2.482,0,4.725,1.568,5.58,3.902.317.864.677,1.731,1.068,2.578c1.055,2.278.585,4.988-1.17,6.744l-6.21,6.21c-1.537,1.537-1.537,4.039,0,5.577l5.52,5.519c1.536,1.536,4.039,1.537,5.577,0l6.209-6.21c1.13-1.129,2.658-1.727,4.209-1.727Zm16.861-2.987c-15.136,0-27.45-12.314-27.45-27.45s12.315-27.45,27.45-27.45c15.136,0,27.45,12.314,27.45,27.45s-12.315,27.45-27.45,27.45Zm0-52.9c-14.033,0-25.45,11.417-25.45,25.45s11.417,25.45,25.45,25.45s25.45-11.417,25.45-25.45-11.417-25.45-25.45-25.45Z\" fill=\"#fff\"/></g><g opacity=\"0.84\"><path d=\"M356.59,351.073h-9.738c-2.302,0-4.355-1.439-5.147-3.6-.367-1.001-.774-1.982-1.219-2.942-.975-2.104-.565-4.59,1.075-6.229l6.886-6.887c2.141-2.141,2.141-5.612,0-7.753l-6.121-6.121c-2.141-2.141-5.612-2.141-7.753,0l-6.886,6.887c-1.64,1.64-4.125,2.05-6.23,1.075-.96-.445-1.942-.852-2.942-1.219-2.161-.792-3.6-2.846-3.6-5.147v-9.738c0-3.028-2.454-5.482-5.482-5.482h-8.657c-3.028,0-5.482,2.454-5.482,5.482v9.738c0,2.302-1.439,4.355-3.6,5.147-1.001.367-1.982.774-2.943,1.219-2.104.975-4.589.565-6.229-1.075l-6.887-6.887c-2.141-2.141-5.612-2.141-7.753,0l-6.121,6.121c-2.141,2.141-2.141,5.612,0,7.753l6.887,6.887c1.64,1.64,2.05,4.125,1.075,6.229-.445.96-.852,1.942-1.219,2.942-.793,2.161-2.846,3.6-5.147,3.6h-9.738c-3.028,0-5.482,2.454-5.482,5.482v8.657c0,3.028,2.454,5.482,5.482,5.482h9.738c2.302,0,4.355,1.439,5.147,3.6.367,1.001.774,1.982,1.219,2.943.975,2.104.565,4.589-1.075,6.229l-6.887,6.886c-2.141,2.141-2.141,5.612,0,7.753l6.121,6.121c2.141,2.141,5.612,2.141,7.753,0l6.887-6.887c1.64-1.64,4.125-2.05,6.229-1.075.96.445,1.942.852,2.942,1.219c2.161.792,3.6,2.846,3.6,5.147v9.738c0,3.028,2.454,5.482,5.482,5.482h8.657c3.028,0,5.482-2.454,5.482-5.482v-9.738c0-2.302,1.439-4.355,3.6-5.147c1.001-.367,1.982-.774,2.942-1.219c2.104-.975,4.589-.565,6.229,1.075l6.887,6.887c2.141,2.141,5.612,2.141,7.753,0l6.121-6.121c2.141-2.141,2.141-5.612,0-7.753l-6.886-6.886c-1.64-1.64-2.05-4.125-1.075-6.229.445-.96.852-1.942,1.219-2.943.793-2.161,2.846-3.6,5.147-3.6h9.738c3.028,0,5.482-2.454,5.482-5.482v-8.657c.001-3.027-2.453-5.482-5.481-5.482Zm-51.485,39.144c-16.2,0-29.333-13.133-29.333-29.333s13.133-29.333,29.333-29.333s29.333,13.133,29.333,29.333c.001,16.2-13.132,29.333-29.333,29.333Z\" fill=\"#fff\"/></g><g><path d=\"M204.288,409.396h-6.557c-2.841,0-5.153-2.311-5.153-5.152v-7.376c0-1.316-.833-2.506-2.071-2.961-.773-.282-1.549-.604-2.304-.954-1.217-.563-2.66-.316-3.591.614l-5.216,5.216c-.973.974-2.267,1.51-3.643,1.51s-2.67-.536-3.644-1.51l-4.636-4.637c-.973-.973-1.509-2.267-1.509-3.643s.536-2.67,1.509-3.643l5.216-5.216c.931-.932,1.178-2.374.614-3.591-.348-.752-.669-1.526-.955-2.305-.454-1.239-1.644-2.072-2.96-2.072h-7.377c-2.841,0-5.152-2.312-5.152-5.152v-6.557c0-2.841,2.312-5.152,5.152-5.152h7.377c1.316,0,2.505-.832,2.959-2.071.288-.783.609-1.559.955-2.305.564-1.217.317-2.66-.614-3.591l-5.216-5.217c-.973-.973-1.509-2.267-1.509-3.643s.536-2.67,1.509-3.644l4.636-4.637c2.009-2.008,5.278-2.008,7.287,0l5.216,5.217c.931.931,2.373,1.179,3.591.613.746-.346,1.521-.666,2.305-.954c1.239-.455,2.071-1.645,2.071-2.96v-7.377c0-2.841,2.311-5.152,5.153-5.152h6.557c2.841,0,5.152,2.312,5.152,5.152v7.377c0,1.316.832,2.505,2.072,2.96.784.288,1.559.608,2.304.954c1.218.565,2.66.317,3.591-.613l5.216-5.217c2.009-2.008,5.277-2.008,7.286,0l4.637,4.637c.973.974,1.509,2.268,1.509,3.644s-.536,2.67-1.509,3.643l-5.216,5.217c-.931.931-1.178,2.374-.614,3.592.347.745.668,1.521.955,2.305.455,1.238,1.644,2.07,2.96,2.07h7.376c2.841,0,5.152,2.311,5.152,5.152v6.557c0,2.841-2.312,5.152-5.152,5.152h-7.376c-1.316,0-2.505.833-2.96,2.072-.286.777-.607,1.554-.955,2.305-.564,1.217-.317,2.659.614,3.591l5.216,5.216c.973.974,1.509,2.268,1.509,3.643c0,1.376-.536,2.67-1.509,3.643l-4.637,4.637c-.973.974-2.267,1.51-3.643,1.51s-2.67-.536-3.643-1.51l-5.216-5.216c-.931-.931-2.375-1.177-3.591-.614-.758.352-1.534.672-2.305.955-1.238.454-2.071,1.644-2.071,2.96v7.376c0,2.84-2.311,5.152-5.152,5.152Zm-17.44-18.742c.743,0,1.493.158,2.196.483.706.327,1.43.627,2.152.891c2.023.743,3.383,2.688,3.383,4.839v7.376c0,1.738,1.415,3.152,3.153,3.152h6.557c1.738,0,3.152-1.414,3.152-3.152v-7.376c0-2.151,1.359-4.096,3.382-4.838.721-.264,1.445-.564,2.153-.892c1.976-.913,4.326-.506,5.846,1.015l5.216,5.216c1.191,1.191,3.267,1.191,4.458,0l4.637-4.637c.595-.596.923-1.387.923-2.229s-.328-1.634-.923-2.229l-5.216-5.216c-1.522-1.521-1.93-3.871-1.015-5.846.325-.702.625-1.426.892-2.152.743-2.024,2.687-3.384,4.838-3.384h7.376c1.738,0,3.152-1.414,3.152-3.152v-6.557c0-1.738-1.414-3.152-3.152-3.152h-7.376c-2.151,0-4.095-1.359-4.838-3.382-.268-.731-.568-1.455-.891-2.152-.915-1.976-.507-4.325,1.014-5.847l5.216-5.217c.595-.596.923-1.387.923-2.228s-.328-1.634-.923-2.23l-4.637-4.637c-1.229-1.229-3.229-1.229-4.458,0l-5.216,5.217c-1.521,1.522-3.871,1.93-5.847,1.014-.695-.322-1.42-.622-2.152-.892-2.023-.742-3.382-2.686-3.382-4.837v-7.377c0-1.738-1.414-3.152-3.152-3.152h-6.557c-1.738,0-3.153,1.414-3.153,3.152v7.377c0,2.151-1.359,4.095-3.382,4.837-.732.27-1.457.569-2.153.892-1.976.916-4.325.509-5.846-1.014l-5.216-5.217c-1.229-1.229-3.23-1.229-4.459,0l-4.636,4.637c-.595.596-.923,1.388-.923,2.23s.328,1.633.923,2.228l5.216,5.217c1.521,1.522,1.929,3.871,1.014,5.846-.323.697-.623,1.422-.892,2.153-.741,2.023-2.686,3.382-4.837,3.382h-7.377c-1.738,0-3.152,1.414-3.152,3.152v6.557c0,1.738,1.414,3.152,3.152,3.152h7.377c2.151,0,4.095,1.359,4.837,3.383.267.727.567,1.451.892,2.153.916,1.975.508,4.324-1.014,5.846l-5.216,5.216c-.595.596-.923,1.388-.923,2.229s.328,1.633.923,2.229l4.636,4.637c1.191,1.19,3.267,1.192,4.459,0l5.216-5.216c.98-.98,2.303-1.498,3.65-1.498Zm14.162-2.19c-12.803,0-23.219-10.416-23.219-23.219s10.416-23.219,23.219-23.219s23.219,10.416,23.219,23.219c-.001,12.803-10.417,23.219-23.219,23.219Zm0-44.438c-11.7,0-21.219,9.518-21.219,21.219c0,11.7,9.519,21.219,21.219,21.219s21.219-9.519,21.219-21.219c-.001-11.7-9.519-21.219-21.219-21.219Z\" fill=\"#fff\"/></g></g></g><g><g opacity=\"0.81\"><path d=\"M416.432,300.922h-13.036c-.553,0-1-.447-1-1s.447-1,1-1h13.036c.553,0,1,.447,1,1s-.448,1-1,1Z\" fill=\"#fff\"/><path d=\"M416.432,322.404h-13.036c-.553,0-1-.447-1-1s.447-1,1-1h13.036c.553,0,1,.447,1,1s-.448,1-1,1Z\" fill=\"#fff\"/><g><g><g><path d=\"M425.647,344.1h-79.264c-1.495,0-2.712-1.217-2.712-2.712v-66.269c0-1.495,1.217-2.711,2.712-2.711h79.264c1.495,0,2.712,1.216,2.712,2.711v66.269c0,1.495-1.216,2.712-2.712,2.712Zm-79.263-69.692c-.393,0-.712.319-.712.711v66.269c0,.393.319.712.712.712h79.264c.393,0,.712-.319.712-.712v-66.269c0-.392-.319-.711-.712-.711h-79.264Z\" fill=\"#fff\"/><path d=\"M425.647,344.1h-79.264c-1.495,0-2.712-1.217-2.712-2.712v-66.269c0-1.495,1.217-2.711,2.712-2.711h79.264c1.495,0,2.712,1.216,2.712,2.711v66.269c0,1.495-1.216,2.712-2.712,2.712Zm-79.263-69.692c-.393,0-.712.319-.712.711v66.269c0,.393.319.712.712.712h79.264c.393,0,.712-.319.712-.712v-66.269c0-.392-.319-.711-.712-.711h-79.264Z\" opacity=\"0.66\" fill=\"#fff\"/></g></g><path d=\"M416.432,290.496h-62.123c-.553,0-1-.447-1-1s.447-1,1-1h62.123c.553,0,1,.447,1,1s-.448,1-1,1Z\" fill=\"#fff\"/><path d=\"M416.432,311.347h-62.123c-.553,0-1-.447-1-1s.447-1,1-1h62.123c.553,0,1,.447,1,1c0,.552-.448,1-1,1Z\" fill=\"#fff\"/><path d=\"M387.802,300.922h-33.493c-.553,0-1-.447-1-1s.447-1,1-1h33.493c.553,0,1,.447,1,1s-.448,1-1,1Z\" fill=\"#fff\"/><path d=\"M387.802,322.404h-33.493c-.553,0-1-.447-1-1s.447-1,1-1h33.493c.553,0,1,.447,1,1s-.448,1-1,1Z\" fill=\"#fff\"/><path d=\"M376.896,332.356h-22.588c-.553,0-1-.447-1-1s.447-1,1-1h22.588c.553,0,1,.447,1,1s-.447,1-1,1Z\" fill=\"#fff\"/></g></g><g opacity=\"0.81\"><path d=\"M162.798,191.56h-14.791c-.552,0-1-.448-1-1s.448-1,1-1h14.791c.552,0,1,.448,1,1s-.448,1-1,1Z\" fill=\"#fff\"/><path d=\"M162.798,215.933h-14.791c-.552,0-1-.448-1-1s.448-1,1-1h14.791c.552,0,1,.448,1,1s-.448,1-1,1Z\" fill=\"#fff\"/><g><g><g><path d=\"M173.484,240.546h-90.389c-1.495,0-2.711-1.216-2.711-2.711v-75.645c0-1.495,1.216-2.711,2.711-2.711h90.389c1.495,0,2.711,1.216,2.711,2.711v75.645c0,1.495-1.216,2.711-2.711,2.711ZM83.095,161.479c-.392,0-.711.319-.711.711v75.645c0,.392.319.711.711.711h90.389c.392,0,.711-.319.711-.711v-75.645c0-.392-.319-.711-.711-.711h-90.389Z\" fill=\"#fff\"/><path d=\"M173.484,240.546h-90.389c-1.495,0-2.711-1.216-2.711-2.711v-75.645c0-1.495,1.216-2.711,2.711-2.711h90.389c1.495,0,2.711,1.216,2.711,2.711v75.645c0,1.495-1.216,2.711-2.711,2.711ZM83.095,161.479c-.392,0-.711.319-.711.711v75.645c0,.392.319.711.711.711h90.389c.392,0,.711-.319.711-.711v-75.645c0-.392-.319-.711-.711-.711h-90.389Z\" opacity=\"0.66\" fill=\"#fff\"/></g></g><path d=\"M162.798,179.731h-70.481c-.552,0-1-.448-1-1s.448-1,1-1h70.481c.552,0,1,.448,1,1s-.448,1-1,1Z\" fill=\"#fff\"/><path d=\"M162.798,203.388h-70.481c-.552,0-1-.448-1-1s.448-1,1-1h70.481c.552,0,1,.448,1,1s-.448,1-1,1Z\" fill=\"#fff\"/><path d=\"M130.316,191.56h-37.999c-.552,0-1-.448-1-1s.448-1,1-1h37.999c.552,0,1,.448,1,1s-.448,1-1,1Z\" fill=\"#fff\"/><path d=\"M130.316,215.933h-37.999c-.552,0-1-.448-1-1s.448-1,1-1h37.999c.552,0,1,.448,1,1s-.448,1-1,1Z\" fill=\"#fff\"/><path d=\"M117.943,227.224h-25.626c-.552,0-1-.448-1-1s.448-1,1-1h25.627c.552,0,1,.448,1,1-.001.552-.448,1-1.001,1Z\" fill=\"#fff\"/></g></g></g></g><g><g><g><path d=\"M423.193,158.019h-7.886-31.684-5.378c-2.01,0-3.799,1.468-4.459,3.658l-1.489,4.94c-.66,2.19-2.449,3.658-4.459,3.658h-64.346c-2.607,0-4.721,2.439-4.721,5.448v0v72.853c0,3.009,2.114,5.448,4.721,5.448h.319h111.495h7.886c2.784,0,5.04-2.439,5.04-5.448v-67.066-11.234-6.808c.002-3.01-2.255-5.449-5.039-5.449Z\" fill=\"#3e479b\"/><path d=\"M377.273,171.043l1.59-4.94c.705-2.19,2.615-3.658,4.761-3.658h39.57c2.784,0,5.04,2.439,5.04,5.448v6.808v11.234v67.066c0,3.009-2.257,5.448-5.04,5.448h-119.382c-2.784,0-5.04-2.439-5.04-5.448v-72.853c0-3.009,2.257-5.448,5.04-5.448h68.7c2.146.001,4.056-1.467,4.761-3.657Z\" fill=\"#6d6cd4\"/><path d=\"M380.2,176.064l1.498-4.656c.664-2.064,2.465-3.448,4.487-3.448h37.297c2.624,0,4.751,2.299,4.751,5.135v6.417v10.588v63.214c0,2.836-2.127,5.135-4.751,5.135h-112.524c-2.624,0-4.751-2.299-4.751-5.135v-68.668c0-2.836,2.127-5.135,4.751-5.135h64.754c2.023,0,3.823-1.383,4.488-3.447Z\" opacity=\"0.12\" fill=\"#fff\"/></g><path d=\"M414.595,252.308h-29.529c-.553,0-1-.447-1-1c0-.552.447-1,1-1h29.529c1.905,0,3.455-1.55,3.455-3.456v-23.426c0-.552.447-1,1-1s1,.448,1,1v23.426c0,3.008-2.448,5.456-5.455,5.456Z\" fill=\"#fff\"/></g><g><g><g><path d=\"M70.628,240.875h7.937h31.889h5.412c2.022,0,3.823,1.651,4.488,4.115l1.499,5.557c.664,2.464,2.465,4.115,4.488,4.115h64.761c2.624,0,4.751,2.744,4.751,6.128v0v81.952c0,3.384-2.127,6.128-4.751,6.128h-.322-112.216-7.937c-2.802,0-5.073-2.744-5.073-6.128v-75.442-12.637-7.659c.001-3.386,2.272-6.129,5.074-6.129Z\" fill=\"#f28393\"/><path d=\"M116.845,255.526l-1.6-5.557c-.709-2.464-2.632-4.115-4.791-4.115h-39.826c-2.802,0-5.073,2.744-5.073,6.128v7.658v12.638v75.442c0,3.384,2.271,6.128,5.073,6.128h120.151c2.802,0,5.073-2.744,5.073-6.128v-81.951c0-3.384-2.271-6.128-5.073-6.128h-69.143c-2.159,0-4.082-1.651-4.791-4.115Z\" opacity=\"0.12\" fill=\"#fff\"/><path d=\"M113.899,261.173l-1.508-5.238c-.669-2.322-2.481-3.878-4.516-3.878h-37.539c-2.641,0-4.782,2.586-4.782,5.776v7.219v11.912v71.109c0,3.19,2.141,5.776,4.782,5.776h113.25c2.641,0,4.782-2.586,4.782-5.776v-77.245c0-3.19-2.141-5.776-4.782-5.776h-65.172c-2.034,0-3.847-1.557-4.515-3.879Z\" opacity=\"0.12\" fill=\"#fff\"/></g></g><path d=\"M74.798,276.053c-.494,0-.895-.447-.895-1v-13.881c0-1.88,1.368-3.409,3.05-3.409h18.644c.494,0,.895.447.895,1s-.401,1-.895,1h-18.643c-.695,0-1.261.632-1.261,1.409v13.881c0,.553-.401,1-.895,1Z\" fill=\"#fff\"/></g></g><g><g><g><g><path d=\"M316.982,197.876h-128.509c-21.34,0-38.64-17.3-38.64-38.64v0c0-21.34,17.3-38.64,38.64-38.64h128.508c21.34,0,38.64,17.3,38.64,38.64v0c.001,21.34-17.299,38.64-38.639,38.64Z\" fill=\"#c5d9ff\"/><circle r=\"54.343\" transform=\"translate(252.728 126.504)\" fill=\"#599af2\"/></g></g><g><path d=\"M316.982,186.492h-128.509c-21.34,0-38.64-17.3-38.64-38.64v0c0-21.34,17.3-38.64,38.64-38.64h128.508c21.34,0,38.64,17.3,38.64,38.64v0c.001,21.34-17.299,38.64-38.639,38.64Z\" fill=\"#599af2\"/><ellipse rx=\"54.343\" ry=\"54.343\" transform=\"matrix(.9184-.3957 0.3957 0.9184 252.733311 115.116742)\" fill=\"#599af2\"/></g><g opacity=\"0.35\"><g><path d=\"M316.982,186.492h-128.509c-21.34,0-38.64-17.3-38.64-38.64v0c0-21.34,17.3-38.64,38.64-38.64h128.508c21.34,0,38.64,17.3,38.64,38.64v0c.001,21.34-17.299,38.64-38.639,38.64Z\" fill=\"#ecf1f7\"/><ellipse rx=\"54.343\" ry=\"54.343\" transform=\"matrix(.9184-.3957 0.3957 0.9184 252.733311 115.116742)\" fill=\"#ecf1f7\"/></g></g><g><g><path d=\"M240.019,123.209c-.647,0-1.293-.25-1.783-.748-.968-.984-.955-2.567.03-3.535l14.583-14.337l14.353,14.352c.977.976.977,2.559,0,3.535-.977.977-2.559.977-3.535,0L252.82,111.63l-11.049,10.861c-.486.479-1.119.718-1.752.718Z\" fill=\"#fff\"/><path d=\"M252.727,143.092c-1.381,0-2.5-1.119-2.5-2.5v-32.483c0-1.381,1.119-2.5,2.5-2.5s2.5,1.119,2.5,2.5v32.483c0,1.381-1.119,2.5-2.5,2.5Z\" fill=\"#fff\"/></g><path d=\"M276.358,158.517h-47.635c-3.414,0-6.193-2.778-6.193-6.193v-17.306c0-1.381,1.119-2.5,2.5-2.5s2.5,1.119,2.5,2.5v17.306c0,.658.535,1.193,1.193,1.193h47.635c.863,0,1.566-.703,1.566-1.566v-16.932c0-1.381,1.119-2.5,2.5-2.5s2.5,1.119,2.5,2.5v16.932c.001,3.62-2.945,6.566-6.566,6.566Z\" fill=\"#fff\"/></g></g><g><path d=\"M328.322,323.934L191.998,368.975c-3.334,1.101-6.929-.708-8.031-4.042L138.926,228.608c-1.102-3.334.708-6.929,4.042-8.031l136.324-45.041c3.334-1.102,6.929.708,8.031,4.042l45.041,136.324c1.102,3.335-.708,6.93-4.042,8.032Z\" opacity=\"0.36\" fill=\"#4c65ba\"/><path d=\"M318.303,318.891L181.978,363.932c-3.334,1.102-6.929-.708-8.031-4.042L128.906,223.566c-1.101-3.334.708-6.929,4.042-8.031l136.324-45.041c3.334-1.102,6.929.708,8.031,4.042l45.041,136.325c1.102,3.333-.708,6.928-4.041,8.03Z\" fill=\"#fff\"/><g><rect width=\"129.667\" height=\"129.667\" rx=\"0\" ry=\"0\" transform=\"matrix(.9495-.3137 0.3137 0.9495 143.634579 226.018565)\" fill=\"#c5d9ff\"/><path d=\"M183.273,350.184l-9.209-27.875l13.471-32.47c1.865-4.494,6.775-6.796,11.424-5.353l24.936,7.745c1.474.46,3.059-.146,3.853-1.469l20.761-34.553c4.409-7.339,13.666-10.322,21.53-6.938l22.865,9.836.211.641l16.128,48.817-1.424.47-124.546,41.149Zm-6.011-27.756l7.919,23.967l120.273-39.738-14.976-45.326-21.625-9.304c-6.495-2.795-14.134-.33-17.773,5.728l-20.761,34.553c-1.508,2.511-4.514,3.66-7.314,2.789l-24.936-7.745c-3.159-.981-6.496.583-7.764,3.639l-13.043,31.437Z\" opacity=\"0.47\" fill=\"#fff\"/><path d=\"M224.379,254.176c-6.698,0-12.95-4.254-15.164-10.953-2.76-8.355,1.791-17.398,10.146-20.158c8.354-2.757,17.397,1.791,20.158,10.146c2.76,8.355-1.791,17.398-10.145,20.158-1.656.547-3.339.807-4.995.807Zm-.021-28.918c-1.345,0-2.71.211-4.055.655-6.784,2.241-10.48,9.584-8.238,16.368c2.241,6.785,9.586,10.48,16.368,8.238c6.784-2.241,10.48-9.584,8.238-16.368-1.797-5.439-6.875-8.893-12.313-8.893Z\" opacity=\"0.47\" fill=\"#fff\"/></g></g><g><path d=\"M369.362,348.479h-106.426c-3.511,0-6.357-2.846-6.357-6.357v-106.426c0-3.511,2.846-6.357,6.357-6.357h106.426c3.511,0,6.357,2.846,6.357,6.357v106.426c0,3.511-2.846,6.357-6.357,6.357Z\" opacity=\"0.36\" fill=\"#4c65ba\"/><path d=\"M363.315,342.432h-106.426c-3.511,0-6.357-2.846-6.357-6.357v-106.426c0-3.511,2.846-6.357,6.357-6.357h106.426c3.511,0,6.357,2.846,6.357,6.357v106.426c0,3.511-2.846,6.357-6.357,6.357Z\" fill=\"#fff\"/><g><rect width=\"98.847\" height=\"98.848\" rx=\"0\" ry=\"0\" transform=\"translate(260.61 233.438)\" opacity=\"0.39\" fill=\"#f7a9b4\"/><path d=\"M361.095,333.147h-101.848v-22.867l17.602-20.383c2.549-2.947,6.859-3.461,10.028-1.199l16.196,11.569c.821.587,1.933.538,2.7-.122L329.064,280.1c5.081-4.375,12.698-4.318,17.713.131l14.317,12.694v40.222h.001Zm-98.848-3h95.848v-35.872l-13.308-11.8c-3.898-3.456-9.816-3.501-13.766-.102L307.73,302.418c-1.817,1.563-4.448,1.685-6.4.29l-16.197-11.569c-1.901-1.357-4.487-1.047-6.014.719l-16.872,19.537v18.752Z\" opacity=\"0.47\" fill=\"#fff\"/><path d=\"M316.126,274.094c-6.904,0-12.521-5.616-12.521-12.521c0-6.904,5.616-12.521,12.521-12.521c6.904,0,12.521,5.617,12.521,12.521c0,6.905-5.617,12.521-12.521,12.521Zm0-22.042c-5.25,0-9.521,4.271-9.521,9.521s4.271,9.521,9.521,9.521s9.521-4.271,9.521-9.521-4.271-9.521-9.521-9.521Z\" opacity=\"0.47\" fill=\"#fff\"/></g></g><g><path d=\"M293.386,358.686l-60.163,22.542c-3.288,1.232-6.952-.435-8.184-3.723l-22.542-60.163c-1.232-3.288.435-6.952,3.723-8.184l60.163-22.542c3.288-1.232,6.952.435,8.184,3.723l22.542,60.163c1.231,3.289-.435,6.953-3.723,8.184Z\" opacity=\"0.36\" fill=\"#4c65ba\"/><path d=\"M288.358,356.399l-60.163,22.542c-3.288,1.232-6.952-.435-8.184-3.723l-22.542-60.163c-1.232-3.288.435-6.952,3.723-8.184l60.163-22.542c3.288-1.232,6.952.435,8.184,3.723l22.542,60.163c1.231,3.289-.436,6.952-3.723,8.184Z\" fill=\"#fff\"/><g><rect width=\"63.853\" height=\"63.853\" rx=\"0\" ry=\"0\" transform=\"matrix(.9364-.3509 0.3509 0.9364 203.639075 312.941889)\" fill=\"#599af2\"/><path d=\"M225.098,374.264l-5.439-14.516l6.097-16.504c.968-2.62,3.732-4.048,6.429-3.327l12.42,3.327c.393.105.806-.07,1.002-.428l9.545-17.405c2.209-4.028,7.11-5.821,11.401-4.176l11.761,4.52l9.386,25.052-62.602,23.457ZM222.86,359.74l3.995,10.662l56.984-21.352-7.86-20.98-10.501-4.035c-2.897-1.113-6.204.099-7.694,2.818l-9.546,17.404c-.862,1.573-2.675,2.349-4.409,1.884l-12.42-3.327c-1.19-.324-2.411.312-2.838,1.468L222.86,359.74Z\" opacity=\"0.47\" fill=\"#fff\"/><path d=\"M243.603,326.012c-3.493,0-6.786-2.138-8.082-5.595-1.667-4.451.597-9.429,5.047-11.096c4.448-1.669,9.427.596,11.096,5.047v0c1.667,4.45-.597,9.428-5.047,11.096-.992.372-2.011.548-3.014.548Zm-.016-14.24c-.654,0-1.318.115-1.965.357-2.901,1.088-4.378,4.333-3.291,7.234s4.332,4.377,7.234,3.291c2.901-1.088,4.378-4.333,3.29-7.234-.844-2.253-2.992-3.648-5.268-3.648Z\" opacity=\"0.47\" fill=\"#fff\"/></g></g></g></g></svg>\r\n";
    String fileText = _SVGatorPlayer.wrapPage(sss);
    String dataUrl = Uri.dataFromString(fileText,
            mimeType: 'text/html', encoding: Encoding.getByName('utf-8'))
        .toString();
    await _webViewController.loadRequest(Uri.parse(dataUrl));
  }
}

class _SVGatorPlayer {
  static String shortenCode(String str) {
    return str
        .replaceAll(RegExp(r'\s{2,}'), '')
        .replaceAllMapped(RegExp(r'[\n\r\t\s]*([,{}=;:()?|&])[\n\r\t\s]*'),
            (Match m) => "${m[1]}")
        .replaceAll(RegExp(r';}'), '}');
  }

  static String wrapPage(String svg) {
    const String header = '''<!doctype html>
    <html>
      <head>
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <style>
            html, body {
                height: 100%;
                overflow: hidden;
                width: 100%;
            }
            body {
                margin: 0;
                padding: 0;
            }
            svg {
                height: 100%;
                left: 0;
                position: fixed;
                top: 0;
                width:100%;
            }
        </style>
      </head>
      <body>
    ''';
    const String footer = '''
      </body>
      </html>''';
    return shortenCode(header) + svg + shortenCode(footer);
  }
}
